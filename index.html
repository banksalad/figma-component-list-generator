<html>

<head>
</head>

<body>
  <script>
    function performDownload(filename, text) {
      const element = document.createElement("a");
      element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
      element.setAttribute('download', filename);
      element.style.display = 'none';
      document.body.appendChild(element);
      element.click();
      document.body.removeChild(element);
    }

    onmessage = (event) => {
      performDownload("component-list.txt", event.data.pluginMessage)
      parent.postMessage({ pluginMessage: 'Close Plugin' }, '*')
    }
  </script>
</body>

</html>
